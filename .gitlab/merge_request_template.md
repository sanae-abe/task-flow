## 📋 変更概要

### 🎯 クイックサマリー（レビュアー向け）

<!--
30秒で理解できる概要を記載：
- 何を変更したか（1行）
- なぜ変更したか（1行）
- レビューで特に見てほしい点（1行）
-->

**変更内容**:
**変更理由**:
**レビューポイント**:

### 変更タイプ

- [ ] 🆕 新機能 (feature)
- [ ] 🐛 バグ修正 (bugfix)
- [ ] 🔧 リファクタリング (refactor)
- [ ] 📚 ドキュメント (docs)
- [ ] 🎨 スタイル修正 (style)
- [ ] ⚡ パフォーマンス改善 (perf)
- [ ] 🧪 テスト (test)
- [ ] 🔨 ビルド・CI (build)

### 緊急度・優先度

- [ ] 🔥 **緊急（レベル5）**: 本番障害、即座対応必要
- [ ] ⚡ **高（レベル4）**: 重要バグ、当日解決目標
- [ ] 🎯 **通常（レベル3）**: 通常開発、計画的実装
- [ ] 🔍 **低（レベル2）**: 改善・最適化、時間をかけてOK
- [ ] 💡 **調査（レベル1）**: 研究・調査タスク

### 変更の説明

<!-- 何を変更したか、なぜ変更したかを具体的に記述 -->

### 影響範囲

- 🧩 **コンポーネント**:
  - 変更:
  - 新規:
- 🪝 **Hooks**:
- 🌐 **Context**:
- 📊 **状態管理**:
- 🔗 **API/外部連携**:

### 変更規模

- [ ] 🟢 小規模（50行未満、レビュー時間: 10分）
- [ ] 🟡 中規模（50-200行、レビュー時間: 30分）
- [ ] 🔴 大規模（200行以上、レビュー時間: 1時間以上）

**変更統計**:

- ファイル数: [数値]
- 追加行数: +[数値]
- 削除行数: -[数値]

## 🛡️ リスク評価

### セキュリティリスク 🔒 **（最重要）**

- [ ] **🔴 高リスク**: 本番環境・セキュリティ・データに重大な影響
- [ ] **🟡 中リスク**: 開発効率・保守性に一定の影響
- [ ] **🟢 低リスク**: 軽微な影響、既知の対策で解決可能

**リスクの詳細と軽減策**:

<!-- XSS、認証、データ漏洩等のリスクと対策を記載 -->

### 技術的リスク ⚙️

- [ ] **🔴 高リスク**: 破綻的変更、パフォーマンス重大影響
- [ ] **🟡 中リスク**: 保守性・拡張性への影響
- [ ] **🟢 低リスク**: 局所的な変更、影響範囲限定

**リスクの詳細と軽減策**:

<!-- 段階的移行、テスト、rollback戦略などを記載 -->

### 開発効率リスク 📊

- [ ] **🔴 高リスク**: 大幅な工数増加、学習コスト高
- [ ] **🟡 中リスク**: 一定の学習コスト、複雑性増大
- [ ] **🟢 低リスク**: 既存パターンの活用、影響最小

**リスクの詳細と軽減策**:

<!-- 段階実装、ドキュメント整備、チーム共有などを記載 -->

## ✅ 品質チェックリスト

### 🔧 基本品質

- [ ] **型チェック**: `npm run typecheck` が成功
- [ ] **リント**: `npm run lint:check` が成功（警告78件は許容）
- [ ] **フォーマット**: `npm run format:check` が成功
- [ ] **テスト**: `npm run test:run` が成功
- [ ] **ビルド**: `npm run build` が成功

<details>
<summary>📋 コマンド実行結果（クリックして展開）</summary>

```bash
npm run typecheck && npm run lint:check && npm run format:check && npm run test:run && npm run build
```

**実行結果**:

<!-- コマンド実行結果のスクリーンショットまたはログを添付 -->

</details>

### 🛡️ セキュリティ & 品質

- [ ] **XSS対策**: ユーザー入力の適切なサニタイズ（DOMPurify使用）
- [ ] **型安全性**: any型の使用を最小限に抑制
- [ ] **入力検証**: 全フォーム入力の適切な検証実装
- [ ] **メモリリーク**: useEffect cleanup、イベントリスナー削除確認
- [ ] **エラーハンドリング**: 適切なエラーバウンダリとエラー処理

### ♿ アクセシビリティ

- [ ] **キーボードナビゲーション**: Tab/Enter/Escキーでの操作可能
- [ ] **スクリーンリーダー**: 適切なARIA属性、alt属性設定
- [ ] **コントラスト**: WCAG AA準拠のコントラスト比確保
- [ ] **フォーカス管理**: 視覚的フォーカスインジケーター確認

### ⚡ パフォーマンス

- [ ] **メモ化**: React.memo、useMemo、useCallback適切使用
- [ ] **バンドルサイズ**: 不要な依存関係の追加なし
- [ ] **レンダリング最適化**: 不要な再レンダリング防止
- [ ] **遅延ローディング**: 必要に応じてLazy loading適用

### 🧪 テストカバレッジ

- [ ] **単体テスト**: 新規/変更コンポーネントのテスト追加
- [ ] **カスタムフック**: フックロジックのテスト確認
- [ ] **エラーケース**: エラーハンドリングのテスト確認
- [ ] **ユーザーインタラクション**: 重要な操作フローのテスト

### 📱 UI/UX品質

- [ ] **レスポンシブ**: モバイル・デスクトップ対応確認
- [ ] **統一性**: 既存UIパターンとの一貫性確保
- [ ] **共通コンポーネント**: UnifiedDialog、UnifiedForm等の活用
- [ ] **ロード状態**: 適切なローディング表示

### 🚀 デプロイメント確認

- [ ] **環境変数**: 新しい環境変数の追加なし（追加する場合は`.env.example`も更新）
- [ ] **データ移行**: localStorageのデータ移行スクリプト不要
- [ ] **ロールバック**: 問題発生時のロールバック手順確認済み
- [ ] **段階リリース**: 段階的リリースが必要な場合はフィーチャーフラグ使用
- [ ] **依存関係**: 新規パッケージ追加時は脆弱性チェック済み

<details>
<summary>📦 依存関係の変更（該当する場合のみ展開）</summary>

**追加されたパッケージ**:

- パッケージ名@バージョン: [理由]

**更新されたパッケージ**:

- パッケージ名: v旧 → v新 [理由]

**削除されたパッケージ**:

- パッケージ名: [理由]

**脆弱性チェック結果**:

```bash
npm audit
# または
npm audit --production
```

</details>

## 🔗 関連情報

### 関連Issue

- Closes #[ISSUE_NUMBER]
- Related to #[ISSUE_NUMBER]

### 破綻的変更

- [ ] ⚠️ 破綻的変更あり（詳細を下記に記載）
- [ ] ✅ 破綻的変更なし

<!-- 破綻的変更がある場合は影響範囲と移行方法を記載 -->

### 後方互換性

- [ ] ✅ **完全互換**: 既存機能への影響なし
- [ ] ⚠️ **部分的影響**: 一部機能に影響（詳細を記載）
- [ ] 🔴 **破綻的変更**: 既存の挙動が変わる（移行ガイド必須）

**互換性の詳細**:

<!--
- 影響を受ける機能・コンポーネント
- 既存データの扱い（localStorageなど）
- ユーザーへの影響
- 移行方法・対処方法
-->

### 📸 スクリーンショット・動作確認

<details>
<summary>🖼️ UI変更のビジュアル確認（該当する場合のみ展開）</summary>

#### デスクトップ表示

| Before               | After                |
| -------------------- | -------------------- |
| [スクリーンショット] | [スクリーンショット] |

#### モバイル表示

| Before               | After                |
| -------------------- | -------------------- |
| [スクリーンショット] | [スクリーンショット] |

#### ブラウザ動作確認

- [ ] Chrome (最新版)
- [ ] Firefox (最新版)
- [ ] Safari (最新版)
- [ ] Edge (最新版)

#### 動作動画（任意）

<!-- 複雑なインタラクションの場合、GIF/動画を添付 -->

</details>

### ⚡ パフォーマンス測定（該当する場合）

<!--
パフォーマンスに影響がある変更の場合に記載：
-->

- **Lighthouse Score**:
  - Performance: [スコア]/100
  - Accessibility: [スコア]/100
  - Best Practices: [スコア]/100
  - SEO: [スコア]/100
- **バンドルサイズ**:
  - 変更前: [サイズ]KB
  - 変更後: [サイズ]KB
  - 増減: [±XX]% ([±XX]KB)
- **初回ロード時間**: [秒]秒以内 (目標: 3秒以内)
- **メモリ使用量**: [変化の有無と詳細]

### 🧪 テスト方法

<!--
手動テストが必要な場合の手順：
1. [具体的なテスト手順]
2. [期待される結果]
3. [確認ポイント]
-->

## 🔍 レビュー観点

### 👨‍💻 作成者からのレビュー依頼

#### コードレビューで特に確認してほしい点

- [ ] [具体的な確認ポイント1]
- [ ] [具体的な確認ポイント2]

#### 懸念事項・検討事項

<!-- 実装時に迷った点、代替案、技術的な懸念があれば記載 -->

### 👀 レビュアー用チェックリスト

<details>
<summary>📋 レビュアーの確認項目（クリックして展開）</summary>

#### 基本確認

- [ ] クイックサマリーを読んで変更内容を理解した
- [ ] リスク評価が適切（過小評価していないか）
- [ ] 影響範囲が明確で漏れがない

#### コード品質

- [ ] TypeScript型定義が適切
- [ ] React/Hooksのベストプラクティス遵守
- [ ] パフォーマンスへの悪影響なし
- [ ] セキュリティリスクへの対策十分

#### テスト

- [ ] テストケースが適切
- [ ] エッジケースへの考慮
- [ ] 手動テストで動作確認

#### ドキュメント

- [ ] コメントが適切
- [ ] 複雑なロジックに説明がある
- [ ] 必要に応じてREADME更新

#### UI/UX（該当する場合）

- [ ] デザインの一貫性
- [ ] ユーザビリティ
- [ ] アクセシビリティ

</details>

---

## 📝 記入ガイド

### 記入例（良い例）

```markdown
## 📋 変更概要

### 🎯 クイックサマリー

変更内容: タスクテンプレート機能の追加
変更理由: ユーザーの作業効率化のため
レビューポイント: useTaskTemplate.ts のロジックとメモリ管理

### 変更タイプ

- [x] 🆕 新機能 (feature)

### 緊急度・優先度

- [x] 🎯 通常（レベル3）

### 影響範囲

- 🧩 コンポーネント:
  - 変更: TaskCard.tsx, TaskDialog.tsx
  - 新規: TaskTemplate.tsx, TemplateSelector.tsx
- 🪝 Hooks: useTaskForm.ts, useTaskValidation.ts, useTaskTemplate.ts
- 🌐 Context: TaskContext.tsx (型定義のみ)
- 📊 状態管理: taskReducer.ts (TEMPLATE_ACTIONS追加)

### 変更規模

- [x] 🟡 中規模（50-200行、レビュー時間: 30分）

変更統計:

- ファイル数: 8
- 追加行数: +156
- 削除行数: -12

## 🛡️ リスク評価

### セキュリティリスク 🔒

- [x] 🟡 中リスク
      リスク: ユーザー入力のテンプレート名・説明追加
      軽減策: DOMPurifyでサニタイズ、入力長制限（名前50文字、説明500文字）

### 技術的リスク ⚙️

- [x] 🟢 低リスク
      リスク: localStorageの容量増加（テンプレート保存）
      軽減策: テンプレート上限20個、容量監視アラート実装

### 開発効率リスク 📊

- [x] 🟢 低リスク
      リスク: 既存パターンを活用、学習コスト最小
      軽減策: 既存のTaskDialog UIパターンを再利用

## ✅ 品質チェックリスト

基本品質: すべて✅

- [x] 型チェック、リント、フォーマット、テスト、ビルド成功
      セキュリティ: XSS対策、入力検証実装済み
      アクセシビリティ: キーボード操作、ARIA属性対応済み

## 🔗 関連情報

関連Issue: Closes #123
破綻的変更: ✅ なし
後方互換性: ✅ 完全互換
```

### 悪い例（避けるべき）

```markdown
## 📋 変更概要

変更タイプ: 新機能
変更の説明: いろいろ修正しました

## リスク評価

特になし

## 品質チェック

たぶん大丈夫です
```

**問題点**:

- ❌ クイックサマリーなし
- ❌ 具体的なファイル名なし
- ❌ リスク評価が不十分
- ❌ チェックボックスが未記入

```

### 必須記入項目
- ✅ 変更タイプ（最低1つ）
- ✅ 変更の説明
- ✅ 影響範囲（具体的なファイル名）
- ✅ 変更規模
- ✅ リスク評価（3種類すべて）
- ✅ 品質チェックリスト（該当項目）
- ✅ 関連Issue

### 任意記入項目
- スクリーンショット（UI変更時は推奨）
- パフォーマンス測定（性能に影響がある場合）
- テスト方法（手動テストが必要な場合）
- レビュー観点（特に注意してほしい点がある場合）

---

**最終更新**: 2025年10月31日
**テンプレートバージョン**: v2.0.0
```
